@import url("./variables.css");

/* ===== LOADER ANIMATION ===== */

.loader {
  width: 40px;
  height: 30px;
  --c: no-repeat linear-gradient(var(--primary-color) 0 0);
  background:
    var(--c) 0    100%/8px 30px,
    var(--c) 50%  100%/8px 20px,
    var(--c) 100% 100%/8px 10px;
  position: relative;
  clip-path: inset(-100% 0);
}

.loader:before {
  content: "";
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--primary-color);
  left: -16px;
  top: 0;
  animation: 
    l5-1 2s   linear infinite,
    l5-2 0.5s cubic-bezier(0, 200, .8, 200) infinite;
}

@keyframes l5-1 {
  0%   { left: -16px; transform: translateY(-8px); }
  100% { left: calc(100% + 8px); transform: translateY(22px); }
}

@keyframes l5-2 {
  100% { top: -0.1px; }
}

/* ===== LOADER CONTAINER ===== */

.loader-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: var(--secondary-color);
  z-index: 9999;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

.loader-container.active {
  display: flex;
  opacity: 1;
}

.loader-container.fade-out {
  opacity: 0;
}

/* Optimizaciones */
.loader,
.loader:before {
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}
